###################################################################
# Filename: regenerate.R
# Purpose:  From GroupMe API redownloads the data and performs
#           the ETL and recreates the paper
###################################################################

###################################################################
# Download Data
###################################################################
rmarkdown::render("download_data.Rmd", params = list(rerun = TRUE))
###################################################################
# Initially recreate PDF
###################################################################
rmarkdown::render("mktg776_p1.Rmd", output_format = "bookdown::pdf_document2")
###################################################################
# Create HTML and PDF version
###################################################################
rmarkdown::render("mktg776_p1.Rmd", output_format = "all")
###################################################################
# Embed Font in PDF Version
###################################################################
extrafont::embed_fonts("mktg776_p1.pdf")
###################################################################
# Create index.html
###################################################################
file.copy("mktg776_p1.html", "index.html", overwrite = TRUE)
###################################################################